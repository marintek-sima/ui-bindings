package no.marintek.sima.script.tests;

import javax.script.ScriptContext;
import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;
import javax.script.ScriptException;
import javax.script.SimpleBindings;

public class EngineScopeTest {

	public static void main(String[] args) throws ScriptException {
		ScriptEngineManager manager = new ScriptEngineManager();
		ScriptEngine engine = manager.getEngineByName("js");
		
		SimpleBindings bindings = new SimpleBindings();
		bindings.put("name", "World");
		
		engine.setBindings(bindings, ScriptContext.ENGINE_SCOPE);
		
		SimpleBindings evalBindings = new SimpleBindings();
		evalBindings.put("name", "Another world");
		
		System.out.println(engine.eval("\"Hello \"+name")); //Default scope
		System.out.println(engine.eval("\"Hello \"+name", evalBindings));
	}
}
