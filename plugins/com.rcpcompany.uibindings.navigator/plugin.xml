<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension-point id="editors" name="Editors" schema="schema/editors.exsd"/>
   <extension
         point="org.eclipse.ui.commands">
      <command
            description="Freezes the value of the editor to the current value"
            id="com.rcpcompany.uibindings.navigator.commands.PinEditor"
            name="Pin the editor to the current value">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.commandImages">
      <image
            commandId="com.rcpcompany.uibindings.navigator.commands.PinEditor"
            disabledIcon="IMG_ETOOL_PIN_EDITOR_DISABLED"
            icon="IMG_ETOOL_PIN_EDITOR">
      </image>
   </extension>
<extension
      point="org.eclipse.ui.decorators">
   <decorator
         class="com.rcpcompany.uibindings.bindingMessages.ValidationLabelDecorator:propagate"
         id="com.rcpcompany.uibindings.decorator"
         label="UI Bindings"
         lightweight="true"
         location="TOP_LEFT"
         state="true">
         <enablement>
         <objectClass
               name="org.eclipse.emf.ecore.EObject">
         </objectClass>
      </enablement>
   </decorator>
</extension>
<extension
      point="org.eclipse.ui.menus">
   <menuContribution
         locationURI="menu:navigate">
      <command
            commandId="org.eclipse.ui.navigate.backwardHistory"
            id="com.rcpcompany.uibindings.backwardHistoryMenu"
            style="pulldown">
      </command>
      <command
            commandId="org.eclipse.ui.navigate.forwardHistory"
            id="com.rcpcompany.uibindings.forwardHistoryMenu"
            style="pulldown">
      </command>
   </menuContribution>
   <menuContribution
         locationURI="toolbar:navigate">
      <command
            commandId="org.eclipse.ui.navigate.backwardHistory"
            id="com.rcpcompany.uibindings.backwardHistoryMenu"
            style="pulldown">
      </command>
      <command
            commandId="org.eclipse.ui.navigate.forwardHistory"
            id="com.rcpcompany.uibindings.forwardHistoryMenu"
            style="pulldown">
      </command>
   </menuContribution>
   <menuContribution
         class="com.rcpcompany.uibindings.utils.IGlobalNavigationManager$BackwardHistoryMenuContributor"
         locationURI="menu:com.rcpcompany.uibindings.backwardHistoryMenu">
   </menuContribution>
   <menuContribution
         class="com.rcpcompany.uibindings.utils.IGlobalNavigationManager$ForwardHistoryMenuContributor"
         locationURI="menu:com.rcpcompany.uibindings.forwardHistoryMenu">
   </menuContribution>
   <menuContribution
         allPopups="false"
         locationURI="toolbar:com.rcpcompany.uibindings.navigator.views.BaseEditorView">
      <control
            class="com.rcpcompany.uibindings.navigator.internal.views.SelectCurrentEditorPart">
      </control>
      <command
            commandId="com.rcpcompany.uibindings.navigator.commands.PinEditor"
            style="toggle">
      </command>
   </menuContribution>
   <menuContribution
         allPopups="false"
         locationURI="popup:org.eclipse.ui.popup.any?after=open">
      <menu
            id="com.rcpcompany.uibindings.navigator.openWith"
            label="Open With"
            mnemonic="h">
         <visibleWhen
               checkEnabled="false">
            <with
                  variable="activePart">
               <instanceof
                     value="com.rcpcompany.uibindings.navigator.views.NavigatorBaseView">
               </instanceof>
            </with>
         </visibleWhen>
      </menu>
   </menuContribution>
   <menuContribution
         allPopups="false"
         class="com.rcpcompany.uibindings.navigator.editors.internal.handlers.OpenWithContributions"
         locationURI="menu:com.rcpcompany.uibindings.navigator.openWith">
   </menuContribution>
</extension>
<extension
      point="org.eclipse.ui.handlers">
   <handler
         class="com.rcpcompany.uibindings.navigator.internal.handlers.NavigatorViewCollapseAll"
         commandId="org.eclipse.ui.navigate.collapseAll">
      <activeWhen>
         <with
               variable="activePart">
            <instanceof
                  value="com.rcpcompany.uibindings.navigator.views.NavigatorBaseView">
            </instanceof>
         </with>
      </activeWhen>
   </handler>
   <handler
         class="com.rcpcompany.uibindings.navigator.editors.internal.handlers.PinEditorHandler"
         commandId="com.rcpcompany.uibindings.navigator.commands.PinEditor">
      <activeWhen>
         <with
               variable="activeView">
            <instanceof
                  value="com.rcpcompany.uibindings.navigator.IEditorPartView">
            </instanceof>
         </with>
      </activeWhen>
   </handler>
   <handler
         class="com.rcpcompany.uibindings.navigator.editors.internal.handlers.OpenBindingHandler"
         commandId="com.rcpcompany.uibindings.commands.openBinding">
      <activeWhen>
         <iterate
               ifEmpty="false"
               operator="or">
            <test
                  forcePluginActivation="true"
                  property="com.rcpcompany.uibindings.navigator.hasEditorPartDescriptor">
            </test>
         </iterate>
      </activeWhen>
   </handler>
</extension>
<extension
      point="org.eclipse.ui.views">
   <view
         allowMultiple="true"
         class="com.rcpcompany.uibindings.navigator.internal.views.BaseEditorView"
         id="com.rcpcompany.uibindings.navigator.views.BaseEditorView"
         name="Generic Object Editor"
         restorable="false">
   </view>
</extension>
<extension
      point="org.eclipse.core.runtime.preferences">
   <initializer
         class="com.rcpcompany.uibindings.navigator.internal.PreferenceInitializer1">
   </initializer>
</extension>
<extension
      point="org.eclipse.ui.preferencePages">
   <page
         category="com.rcpcompany.uibindings.example.application.pages.basic"
         class="com.rcpcompany.uibindings.navigator.internal.pages.PreferredEditorPage"
         id="com.rcpcompany.uibindings.navigator.internal.pages.PreferredEditorPage"
         name="Editors">
   </page>
</extension>
<extension
      point="com.rcpcompany.uibindings.navigator.editors">
   <editor
         factory="com.rcpcompany.uibindings.navigator.editorFactories.EmptyEditorPartFactory"
         id="com.rcpcompany.uibindings.navigator.internal.com.rcpcompany.uibindings.IConstantTreeItem"
         modelType="com.rcpcompany.uibindings.IConstantTreeItem"
         name="Empty Container"
         priority="1">
   </editor>
</extension>
<extension
      point="org.eclipse.core.expressions.propertyTesters">
   <propertyTester
         class="com.rcpcompany.uibindings.navigator.internal.propertyTesters.EObjectPropertyTester"
         id="com.rcpcompany.uibindings.navigator.internal.propertyTesters.EObjectPropertyTester"
         namespace="com.rcpcompany.uibindings.navigator"
         properties="hasEditorPartDescriptor"
         type="org.eclipse.emf.ecore.EObject">
   </propertyTester>
</extension>
</plugin>
