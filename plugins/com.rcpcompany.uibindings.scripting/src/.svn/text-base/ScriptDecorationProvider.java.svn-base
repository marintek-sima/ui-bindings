package no.marintek.sima.script;

import java.util.ArrayList;
import java.util.List;

import no.marintek.sima.utils.scripting.ParserTree;
import no.marintek.sima.utils.scripting.ScriptParser;
import no.marintek.sima.utils.scripting.ScriptVariable;

public class ScriptDecorationProvider {

	public List<ScriptDecoration> getDecorations(String script) {
		List<ScriptDecoration> decorations = new ArrayList<ScriptDecoration>();
		ScriptParser parser = new ScriptParser(script);
		List<ParserTree> children = parser.flatten();
		for (ParserTree tree : children) {
			if(tree instanceof ScriptVariable){
				int start = tree.getCharPositionInLine();
				int length = tree.getChild(0).getText().length();
				ScriptDecoration dec = new ScriptDecoration(start,length);
				decorations.add(dec);
			}
		}
		return decorations;
	}

}
